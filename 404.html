<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BeMyValentine</title>
    <base href="./" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="BeMyValentine.styles.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>

<!--    Music-->
    <script>
        // Accept either an ElementReference (DOM element) from Blazor or an id string.
        window.playAudio = (el) => {
            try {
                if (!el) {
                    const a = document.getElementById("bgMusic");
                    if (a && a.play) a.play();
                    return;
                }

                // If Blazor passes the DOM element directly
                if (el.tagName && typeof el.play === 'function') {
                    el.play();
                    return;
                }

                // Otherwise try to find by id or selector
                const maybeEl = (typeof el === 'string') ? document.getElementById(el) : el;
                if (maybeEl && typeof maybeEl.play === 'function') {
                    maybeEl.play();
                }
            } catch (e) {
                console.error('playAudio error', e);
            }
        };

        window.pauseMusic = (el) => {
            try {
                if (!el) {
                    const a = document.getElementById("bgMusic");
                    if (a && a.pause) a.pause();
                    return;
                }

                if (el.tagName && typeof el.pause === 'function') {
                    el.pause();
                    return;
                }

                const maybeEl = (typeof el === 'string') ? document.getElementById(el) : el;
                if (maybeEl && typeof maybeEl.pause === 'function') {
                    maybeEl.pause();
                }
            } catch (e) {
                console.error('pauseMusic error', e);
            }
        };
    </script>

</body>

</html>
